### Это демонстрационный код webApp магазина в Телеграм.

На данный момент можно:
- положить товар в корзину
- удалить из корзины
- очистить корзину
- купить товар
- оплатить через тестовый платёж
- менеджер получит уведомление о новом заказе
- просмотреть в админке результат заказа

Вне Телеграма купить ничего нельзя.


Проверить работу бота можно перейдя по ссылке:

https://t.me/DemoShopWebApp_bot


После старта бота выберите товары нажав кнопку "Каталог".

Оплата работает в **тестовом режиме** и использует платёжного провайдера Yookassa, **деньги не списываются**!

Можно выбрать тестовую оплату Yookassa или ввести тестовые карты указанные на официальном сайте:

https://yookassa.ru/developers/payment-acceptance/testing-and-going-live/testing#test-bank-card-data

Уведомления о заказах приходят в телеграм Менеджеру.


#### Админку в демо-режиме можно посмотреть тут:

https://demo-bot.thearttoprovide.name/login

**Email:** demo-shop-bot@thearttoprovide.name

**Пароль:** 123123

В админке можно просмотреть созданные заказы, разделы с товарами, категориями, переключить язык.

#### Базовые функции админки:
- Категории привязываются к товару и к другим категориям
- Не опубликованные Категории и Товары не доступны к просмотру и заказу
- Товары привязываются к Категориями, у товара может быть несколько категорий
- У Товара может быть несколько изображений, в этом случае они прокручиваются "каруселью" в карточке
- Изображения Товара можно сортировать перетаскивая мышкой, отмечать для удаления
- При удалении изображения Товара удаляется физически файл с хранилища
- В списках Заказов есть поиск по инвойсу, в списках Категории и Товаров поиск по названию

Магазин можно расширять и использовать как обычный веб-магазин, подключить другие системы оповещения о заказах, расширить используя RabbitMQ и т.д.

#### В разработке использовал шаблон "Чистая архитектура":
- UseCases/CQRS для разделения логики команд-запросов и улучшения тестирования
- ObjectValue для основной валидации
- API/Adapter для связи между модулями
- DTO для передачи данных между слоями и модулями

#### Так же были использованы:
- Symfony 7
- Шаблонизатор twig
- Doctrine ORM с сырыми запросами и миграциями
- Schemas doctrine-mapping с .orm.xml данными для БД схем
- .yaml конфиги и переводы
- PHPUnit для мок и функциональных тестов
- Фикстуры для тестов
- phpstan статического анализа
- deptrac для отслеживания зависимостей слоёв и модулей
- php-cs-fixer для однородного стиля кода

\
\
Для сотрудничества и вопросов можно связаться со мной в Телеграме:

https://t.me/Ambrion
